module GameMap
	Module_function
	def exec
		player.update


		if player.x < min_x

			if map_x > 0
				map_x -= 4
				player.x += 4
			end
		end
		if player.x > max_x
			if map_x < map_base.size_x * 32 - rt.width
				map_x += 4
				player.x -= 4
			end
		end
		if player.y < min_y
			if map_y > 0
				map_y -= 4
				player.y += 4
			end
		end
		if player.y > max_y
			if map_y < map_base.size_y * 32 - rt.height
				map_y += 4
				player.y -= 4
			end
		end


		map_base.draw(map_x, map_y)


		player.draw



		map_sub.draw(map_x, map_y)

		Window.draw(32, 32, rt)
	end
end